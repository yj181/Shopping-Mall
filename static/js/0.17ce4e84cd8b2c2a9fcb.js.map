{"version":3,"sources":["webpack:///src/components/GoodsDetail.vue","webpack:///./src/components/GoodsDetail.vue?0b5b","webpack:///./src/components/GoodsDetail.vue"],"names":["GoodsDetail","data","tableData","total","goodsTotal","computed","extends_default","Object","vuex_esm","components","Header","mounted","_this","this","quantityCount","shoppingList","length","handleRepeat","map","key","num","$set","methods","handleChange","value","reduce","prev","currentValue","currentIndex","arr","price","list","obj","next","id","push","handleSelection","selection","handleDel","row","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","$message","error","catch","info","handlePay","components_GoodsDetail","render","_vm","_h","$createElement","_c","_self","_v","staticStyle","font-size","color","text-align","margin-top","line-height","height","ref","staticClass","width","margin","attrs","border","max-height","on","selection-change","prop","label","align","scopedSlots","_u","fn","scope","src","img","min-width","show-overflow-tooltip","header-align","min","size","change","model","callback","$$v","expression","click","$event","_s","toFixed","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.17ce4e84cd8b2c2a9fcb.js","sourcesContent":["<template>\r\n    <div>\r\n        <Header></Header>\r\n        <el-card>\r\n            <div>\r\n                <h3 style=\"font-size:26px;color:red;text-align:center\">温馨小提示！</h3>\r\n                <p style=\"color:red;text-align:center;margin-top:6px\">结算购物清单时，请选中所要支付的产品，否则不能结算哦。</p>\r\n            </div>\r\n            <h3 style=\"font-size:18px;line-height:30px;height:30px\">购物清单：</h3>\r\n            <el-table\r\n                ref=\"multipleTable\"\r\n                :data=\"tableData\"\r\n                border\r\n                style=\"width:100%;margin:20px 0\"\r\n                max-height=\"300\"\r\n                @selection-change=\"handleSelection\"\r\n                class=\"tableStyle\"\r\n            >\r\n                <el-table-column\r\n                type=\"selection\"\r\n                width=\"40\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"img\" label=\"图片\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <img :src=\"scope.row.img\">\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"info\" label=\"标题\" min-width=\"120\" show-overflow-tooltip header-align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"num\" label=\"数量\" align=\"center\" min-width=\"40\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-input-number v-model=\"scope.row.num\" :min=\"1\" size=\"mini\" @change=\"handleChange\"></el-input-number>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"price\" label=\"单价\" align=\"center\" width=\"120\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" size=\"mini\" @click=\"handleDel(scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-row>\r\n                <el-col align=\"right\">\r\n                    <h3 style=\"font-size:20px\">共<span style=\"color:red;font-size:24px\">{{goodsTotal}}</span>件商品，应付总金额：<span style=\"color:red;font-size:24px\">￥{{total.toFixed(1)}}</span></h3>\r\n                    <el-button type=\"primary\" style=\"margin-top:20px\" @click=\"handlePay\">去结算</el-button>\r\n                </el-col>\r\n            </el-row>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState,mapMutations} from 'vuex';\r\nimport Header from './Header';\r\nexport default {\r\n    data(){\r\n        return {\r\n            tableData:[],\r\n            total:0,\r\n            goodsTotal:0,\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState(['shoppingList'])\r\n    },\r\n    components:{\r\n        Header\r\n    },\r\n    mounted(){\r\n        this.quantityCount(0)\r\n        if(this.shoppingList.length > 0){\r\n            this.tableData = this.handleRepeat(this.shoppingList).map(key=>{\r\n                if(!key.num){\r\n                    this.$set(key,'num',0)\r\n                }\r\n                return key\r\n            })\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapMutations(['quantityCount']),\r\n        handleChange(value){\r\n            this.total = this.tableData.reduce((prev, currentValue, currentIndex, arr)=>{\r\n                return prev + currentValue.price * currentValue.num\r\n            },0)\r\n        },\r\n        handleRepeat(list){\r\n            let obj = {};\r\n            let arrList = list.reduce((prev,next)=>{\r\n                obj[next.id] ? '' : obj[next.id] = true && prev.push(next)\r\n                return prev\r\n           },[])\r\n           return arrList \r\n        },\r\n        handleSelection(selection){\r\n           this.goodsTotal = selection.length; \r\n           this.total = selection.reduce((prev, currentValue, currentIndex, arr)=>{\r\n                return prev + currentValue.price * currentValue.num\r\n            },0)\r\n        },\r\n        handleDel(row){\r\n            this.$confirm('此操作将删除该件产品, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n            }).then(()=>{\r\n                this.$message.error(\"未完待续...\")\r\n            }).catch(()=>{\r\n                this.$message.info(\"已取消操作！\")\r\n            })\r\n        },\r\n        handlePay(){\r\n            if(this.goodsTotal == 0){\r\n                this.$message.info(\"请在表格中选中所要支付的产品哦\")\r\n            }else{\r\n                this.$message.info(\"功能未完...\")\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tableStyle img{\r\n    display: block;\r\n    width: 50px;\r\n    height: 50px;\r\n    margin: 0 auto;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_vm._v(\" \"),_c('el-card',[_c('div',[_c('h3',{staticStyle:{\"font-size\":\"26px\",\"color\":\"red\",\"text-align\":\"center\"}},[_vm._v(\"温馨小提示！\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"red\",\"text-align\":\"center\",\"margin-top\":\"6px\"}},[_vm._v(\"结算购物清单时，请选中所要支付的产品，否则不能结算哦。\")])]),_vm._v(\" \"),_c('h3',{staticStyle:{\"font-size\":\"18px\",\"line-height\":\"30px\",\"height\":\"30px\"}},[_vm._v(\"购物清单：\")]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticClass:\"tableStyle\",staticStyle:{\"width\":\"100%\",\"margin\":\"20px 0\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleSelection}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"img\",\"label\":\"图片\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.img}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"info\",\"label\":\"标题\",\"min-width\":\"120\",\"show-overflow-tooltip\":\"\",\"header-align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"num\",\"label\":\"数量\",\"align\":\"center\",\"min-width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input-number',{attrs:{\"min\":1,\"size\":\"mini\"},on:{\"change\":_vm.handleChange},model:{value:(scope.row.num),callback:function ($$v) {_vm.$set(scope.row, \"num\", $$v)},expression:\"scope.row.num\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"单价\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"align\":\"right\"}},[_c('h3',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(\"共\"),_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.goodsTotal))]),_vm._v(\"件商品，应付总金额：\"),_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"24px\"}},[_vm._v(\"￥\"+_vm._s(_vm.total.toFixed(1)))])]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePay}},[_vm._v(\"去结算\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ef2b3b8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ef2b3b8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ef2b3b8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7ef2b3b8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
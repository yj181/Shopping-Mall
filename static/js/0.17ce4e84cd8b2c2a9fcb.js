webpackJsonp([0],{B7tt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("NYxO"),l=n("teIl"),r={data:function(){return{tableData:[],total:0,goodsTotal:0}},computed:i()({},Object(o.e)(["shoppingList"])),components:{Header:l.a},mounted:function(){var t=this;this.quantityCount(0),this.shoppingList.length>0&&(this.tableData=this.handleRepeat(this.shoppingList).map(function(e){return e.num||t.$set(e,"num",0),e}))},methods:i()({},Object(o.d)(["quantityCount"]),{handleChange:function(t){this.total=this.tableData.reduce(function(t,e,n,a){return t+e.price*e.num},0)},handleRepeat:function(t){var e={};return t.reduce(function(t,n){return!e[n.id]&&(e[n.id]=t.push(n)),t},[])},handleSelection:function(t){this.goodsTotal=t.length,this.total=t.reduce(function(t,e,n,a){return t+e.price*e.num},0)},handleDel:function(t){var e=this;this.$confirm("此操作将删除该件产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message.error("未完待续...")}).catch(function(){e.$message.info("已取消操作！")})},handlePay:function(){0==this.goodsTotal?this.$message.info("请在表格中选中所要支付的产品哦"):this.$message.info("功能未完...")}})},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._v(" "),n("el-card",[n("div",[n("h3",{staticStyle:{"font-size":"26px",color:"red","text-align":"center"}},[t._v("温馨小提示！")]),t._v(" "),n("p",{staticStyle:{color:"red","text-align":"center","margin-top":"6px"}},[t._v("结算购物清单时，请选中所要支付的产品，否则不能结算哦。")])]),t._v(" "),n("h3",{staticStyle:{"font-size":"18px","line-height":"30px",height:"30px"}},[t._v("购物清单：")]),t._v(" "),n("el-table",{ref:"multipleTable",staticClass:"tableStyle",staticStyle:{width:"100%",margin:"20px 0"},attrs:{data:t.tableData,border:"","max-height":"300"},on:{"selection-change":t.handleSelection}},[n("el-table-column",{attrs:{type:"selection",width:"40"}}),t._v(" "),n("el-table-column",{attrs:{prop:"img",label:"图片",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.img}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"info",label:"标题","min-width":"120","show-overflow-tooltip":"","header-align":"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"num",label:"数量",align:"center","min-width":"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:1,size:"mini"},on:{change:t.handleChange},model:{value:e.row.num,callback:function(n){t.$set(e.row,"num",n)},expression:"scope.row.num"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"单价",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return t.handleDel(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("h3",{staticStyle:{"font-size":"20px"}},[t._v("共"),n("span",{staticStyle:{color:"red","font-size":"24px"}},[t._v(t._s(t.goodsTotal))]),t._v("件商品，应付总金额："),n("span",{staticStyle:{color:"red","font-size":"24px"}},[t._v("￥"+t._s(t.total.toFixed(1)))])]),t._v(" "),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.handlePay}},[t._v("去结算")])],1)],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(r,s,!1,function(t){n("drTn")},"data-v-7ef2b3b8",null);e.default=c.exports},drTn:function(t,e){}});
//# sourceMappingURL=0.17ce4e84cd8b2c2a9fcb.js.map